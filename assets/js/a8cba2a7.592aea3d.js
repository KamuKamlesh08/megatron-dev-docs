"use strict";(self.webpackChunkmegatron_dev_docs=self.webpackChunkmegatron_dev_docs||[]).push([[4558],{3773:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"architecture/e-commerce/02-megatron-store","title":"Megatron Store - Database Design","description":"This document explains the database schema and flow for the Megatron Store e-commerce application.","source":"@site/docs/architecture/e-commerce/02-megatron-store.md","sourceDirName":"architecture/e-commerce","slug":"/architecture/e-commerce/02-megatron-store","permalink":"/docs/architecture/e-commerce/02-megatron-store","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"02-megatron-store","title":"Megatron Store - Database Design","sidebar_position":2},"sidebar":"docs","previous":{"title":"User Initial Load & Personalized Homepage","permalink":"/docs/architecture/e-commerce/01-home-page"},"next":{"title":"Megatron Store - Database Design Enhancements","permalink":"/docs/architecture/e-commerce/03-megatron-store-enhancement"}}');var i=r(4848),t=r(8453);const o={id:"02-megatron-store",title:"Megatron Store - Database Design",sidebar_position:2},l="Megatron Store - Database Design",c={},d=[{value:"Database Schema Overview",id:"database-schema-overview",level:2},{value:"Flow Explanation (Step by Step)",id:"flow-explanation-step-by-step",level:2},{value:"1. User Browsing",id:"1-user-browsing",level:3},{value:"2. Category/Subcategory Navigation",id:"2-categorysubcategory-navigation",level:3},{value:"3. Adding to Cart (Not stored in DB yet)",id:"3-adding-to-cart-not-stored-in-db-yet",level:3},{value:"4. Order Placement",id:"4-order-placement",level:3},{value:"5. Inventory Update",id:"5-inventory-update",level:3},{value:"6. Applying Offers/Discounts",id:"6-applying-offersdiscounts",level:3},{value:"7. Order History",id:"7-order-history",level:3},{value:"Example Data Flow",id:"example-data-flow",level:2},{value:"How to Import SQL",id:"how-to-import-sql",level:2},{value:"Future Enhancements",id:"future-enhancements",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"megatron-store---database-design",children:"Megatron Store - Database Design"})}),"\n",(0,i.jsxs)(n.p,{children:["This document explains the database schema and flow for the ",(0,i.jsx)(n.strong,{children:"Megatron Store"})," e-commerce application."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"database-schema-overview",children:"Database Schema Overview"}),"\n",(0,i.jsx)(n.p,{children:"The database schema contains the following tables:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"users"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stores customer information."}),"\n",(0,i.jsx)(n.li,{children:"Fields: id, name, email, password, city, created_at."}),"\n",(0,i.jsxs)(n.li,{children:["Example: ",(0,i.jsx)(n.code,{children:"User from Delhi named Ravi with email ravi@example.com"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"categories & subcategories"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Categories: Electronics, Fashion, Home, Beauty, Grocery."}),"\n",(0,i.jsx)(n.li,{children:"Subcategories: Mobiles, Laptops, Clothing, etc."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"products"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Each product belongs to a subcategory and is available in multiple cities."}),"\n",(0,i.jsx)(n.li,{children:"Fields: id, subcategory_id, name, description, price."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"inventory"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Tracks stock per product per city."}),"\n",(0,i.jsx)(n.li,{children:"Fields: id, product_id, city_id, stock."}),"\n",(0,i.jsx)(n.li,{children:"Example: iPhone 15 -> Delhi -> 20 units."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"orders"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stores order-level details for each purchase."}),"\n",(0,i.jsx)(n.li,{children:"Fields: id, user_id, total_amount, order_date, status."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"order_items"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Line items under an order (specific products and quantities)."}),"\n",(0,i.jsx)(n.li,{children:"Fields: id, order_id, product_id, quantity, price."}),"\n",(0,i.jsx)(n.li,{children:"Example: Order #12 contains 2 iPhones and 1 Laptop."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"offers"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Discounts or promotional offers on categories or products."}),"\n",(0,i.jsx)(n.li,{children:"Fields: id, offer_name, discount_percent, category_id (nullable), product_id (nullable), valid_from, valid_to."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"flow-explanation-step-by-step",children:"Flow Explanation (Step by Step)"}),"\n",(0,i.jsx)(n.h3,{id:"1-user-browsing",children:"1. User Browsing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.strong,{children:"user"})," opens the Megatron Store website."]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"location (city)"})," is detected."]}),"\n",(0,i.jsxs)(n.li,{children:["Products are shown from ",(0,i.jsx)(n.strong,{children:"inventory"})," where stock is available in that city."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-categorysubcategory-navigation",children:"2. Category/Subcategory Navigation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Products are grouped by ",(0,i.jsx)(n.strong,{children:"category"})," and ",(0,i.jsx)(n.strong,{children:"subcategory"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Example: Electronics \u2192 Mobiles \u2192 iPhone 15."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-adding-to-cart-not-stored-in-db-yet",children:"3. Adding to Cart (Not stored in DB yet)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When a product is added to cart, system checks ",(0,i.jsx)(n.code,{children:"inventory"})," stock."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-order-placement",children:"4. Order Placement"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"User confirms checkout."}),"\n",(0,i.jsxs)(n.li,{children:["A new row is created in ",(0,i.jsx)(n.strong,{children:"orders"})," table."]}),"\n",(0,i.jsxs)(n.li,{children:["Corresponding ",(0,i.jsx)(n.strong,{children:"order_items"})," rows are created for each product in cart."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"5-inventory-update",children:"5. Inventory Update"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["After successful order, ",(0,i.jsx)(n.code,{children:"inventory.stock"})," is reduced per city."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"6-applying-offersdiscounts",children:"6. Applying Offers/Discounts"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["At checkout, system checks ",(0,i.jsx)(n.strong,{children:"offers"})," table."]}),"\n",(0,i.jsx)(n.li,{children:"If any discount applies (per category or product), total order amount is updated."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"7-order-history",children:"7. Order History"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["User can view their past ",(0,i.jsx)(n.strong,{children:"orders"})," and ",(0,i.jsx)(n.strong,{children:"order_items"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"example-data-flow",children:"Example Data Flow"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ravi (Delhi)"})," logs in."]}),"\n",(0,i.jsxs)(n.li,{children:["Browses ",(0,i.jsx)(n.strong,{children:"Electronics \u2192 Mobiles"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Sees ",(0,i.jsx)(n.strong,{children:"iPhone 15 (20 units in Delhi)"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Adds 1 iPhone to cart."}),"\n",(0,i.jsxs)(n.li,{children:["Places order \u2192 Creates row in ",(0,i.jsx)(n.code,{children:"orders"})," + ",(0,i.jsx)(n.code,{children:"order_items"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Inventory for iPhone in Delhi decreases to 19."}),"\n",(0,i.jsxs)(n.li,{children:["If an ",(0,i.jsx)(n.strong,{children:"offer (10% on Electronics)"})," is active, final bill is discounted."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"how-to-import-sql",children:"How to Import SQL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mysql -u root -p megatron_store < megatron_store_full.sql\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Shopping cart table."}),"\n",(0,i.jsx)(n.li,{children:"Payment transactions table."}),"\n",(0,i.jsx)(n.li,{children:"Reviews and ratings table."}),"\n",(0,i.jsx)(n.li,{children:"Wishlists and saved items."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Author:"})," Megatron Store Backend Team"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(6540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);